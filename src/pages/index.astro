---
import BaseHead from "../components/BaseHead.astro";
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<script>
			const elements = document.querySelectorAll(".card");
			const directions = [
				// Straight directions
				{ start: "left: -100%; top: 0; width: 100%; height: 100%", end: "left: 0" },
				{ start: "left: 100%; top: 0; width: 100%; height: 100%", end: "left: 0" },
				{ start: "left: 0; top: -100%; width: 100%; height: 100%", end: "top: 0" },
				{ start: "left: 0; top: 100%; width: 100%; height: 100%", end: "top: 0" },
				// Diagonal directions
				{
					start: "left: -100%; top: -100%; width: 200%; height: 200%",
					end: "left: 0; top: 0",
				},
				{
					start: "left: -100%; top: 100%; width: 200%; height: 200%",
					end: "left: 0; top: 0",
				},
				{
					start: "left: 100%; top: -100%; width: 200%; height: 200%",
					end: "left: 0; top: 0",
				},
				{
					start: "left: 100%; top: 100%; width: 200%; height: 200%",
					end: "left: 0; top: 0",
				},
			];

			elements.forEach((element, index) => {
				const style = document.createElement("style");
				document.head.appendChild(style);

				// Set initial direction
				const initialDirection = directions[0];
				style.textContent = `
                .card:nth-child(${index + 1})::before {
                    ${initialDirection.start}
                }
                .card:nth-child(${index + 1}):hover::before {
                    ${initialDirection.end}
                }
            `;

				// Update direction on hover
				element.addEventListener("mouseenter", () => {
					const direction = directions[Math.floor(Math.random() * directions.length)];
					style.textContent = `
                    .card:nth-child(${index + 1})::before {
                        ${direction.start}
                    }
                    .card:nth-child(${index + 1}):hover::before {
                        ${direction.end}
                    }
                `;
				});
			});
		</script>
	</head>
	<body>
		<main>
			<div class="bento-grid">
				<div class="card large">
					<h1>Hi, I am Callum</h1>
				</div>
				<a href="projects/game-master" class="card">
					<p>
						I made a note taking app designed to help DMs and players of TTRPGs, check it
						out.
					</p>
					<h2>Game Master</h2>
				</a>
				<div class="card cream">
					<h3>Making this site.</h3>
					<p>Read about how I have updated my personal site (this one)</p>
				</div>
				<a href="projects/this-little-piggy" class="card">
					<h3>This Little Piggy</h3>
					<p>A charity project</p>
				</a>
				<a href="projects/playq" class="card tall">
					<h2>playQ</h2>
					<p>
						Create and share video game playists with your friends. Check out how I built
						this app
					</p>
				</a>
				<a href="projects/" class="card wide">
					<h2>More Projects</h2>
					<p>Come and have a look to see what else I have been working on</p>
				</a>
				<a href="blog/" class="card">
					<h2>Blog.</h2>
				</a>
			</div>
		</main>
	</body>
</html>

<style>
	.bento-grid {
		display: grid;
		grid-template-columns: repeat(4, minmax(160px, 1fr));
		grid-auto-rows: minmax(100px, auto);
		gap: 24px;
		padding: 16px;
		max-width: 90vw;
		margin: 0 auto;
	}
	.card {
		position: relative;
		overflow: hidden;
		background: none;
		color: var(--red);
		border-radius: 16px;
		padding: 20px;
		box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
		transition: color 0.3s ease;
		z-index: 1;
	}
	.card::before {
		content: "";
		position: absolute;
		background: var(--black);
		transition: all 0.3s ease;
		z-index: -1;
	}

	.card:hover::before {
		left: 0;
	}

	.card h1 {
		font-size: 8rem;
		line-height: 0.8em;
	}

	.card h2 {
		font-size: 4rem;
		line-height: 1em;
	}

	.large {
		grid-column: span 2;
		grid-row: span 2;
	}

	.wide {
		grid-column: span 2;
	}

	.tall {
		grid-row: span 2;
	}

	.card:nth-child(1) {
		color: var(--black);
		background: var(--orange);
	}
	.card:nth-child(1):hover {
		color: var(--light-blue);
	}
	.card:nth-child(1)::before {
		background: var(--dark-blue);
	}

	.card:nth-child(2) {
		color: var(--white);
		background: var(--plum);
	}
	.card:nth-child(2):hover {
		color: var(--black);
	}
	.card:nth-child(2)::before {
		background: var(--sage);
	}

	.card:nth-child(3) {
		color: var(--dark-blue);
		background: var(--light-blue);
	}
	.card:nth-child(3):hover {
		color: var(--light-blue);
	}
	.card:nth-child(3)::before {
		background: var(--clay);
	}

	.card:nth-child(4) {
		color: var(--orange-700);
		background: var(--blue-50);
	}
	.card:nth-child(4):hover {
		color: var(--primary);
	}
	.card:nth-child(4)::before {
		background: var(--clay);
	}

	.card:nth-child(5) {
		color: var(--olive);
		background: var(--dark-blue);
	}
	.card:nth-child(5):hover {
		color: var(--primary);
	}
	.card:nth-child(5)::before {
		background: var(--clay);
	}

	.card:nth-child(6) {
		color: var(--black);
		background: var(--blue);
	}
	.card:nth-child(6):hover {
		color: var(--red);
	}
	.card:nth-child(6)::before {
		background: var(--light-blue);
	}

	.card:nth-child(7) {
		color: var(--dark-blue);
		background: var(--light-olive);
	}
	.card:nth-child(7):hover {
		color: var(--primary);
	}
	.card:nth-child(7)::before {
		background: var(--clay);
	}

	.card:nth-child(8) {
		color: var(--dark-blue);
		background: var(--light-olive);
	}
	.card:nth-child(8):hover {
		color: var(--primary);
	}
	.card:nth-child(8)::before {
		background: var(--clay);
	}
</style>
